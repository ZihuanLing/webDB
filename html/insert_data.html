<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <!-- Custom box css -->
    <link href="../plugins/custombox/css/custombox.min.css" rel="stylesheet">

    <!-- App css -->
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="/assets/css/icons.css" rel="stylesheet" type="text/css" />
    <link href="/assets/css/metismenu.min.css" rel="stylesheet" type="text/css" />
    <link href="/assets/css/style.css" rel="stylesheet" type="text/css" />

    <script src="/assets/js/modernizr.min.js"></script>

    <!-- Bootstrap 4 files-->
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <script src="/assets/js/jquery.min.js"></script>
    <script src="/assets/js/popper.min.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>
    <!-- js -->
    <script type="text/javascript" src="../js/vue.js"></script>
    <script type="text/javascript" src="../js/vue-cookies.js"></script>
    <script type="text/javascript" src="../js/axios.js"></script>

</head>
<body>
<div id="container" class="container mt-5">
    <h2 class="mb-3">插入数据到{{table}}表</h2>
    <table class="table table-striped" cellspacing="0" width="100%">
        <thead>
            <tr><th v-for="column in column_description">{{column}}</th> <th>Value</th></tr>
        </thead>

        <tbody>
            <tr v-for="(row, idx) in column_detail">
            <!--  ["id","int(11)","NO","PRI",null,"auto_increment"]-->
                <td v-for="col in row">{{col}}</td>
                <td><input type="text" class="form-control" v-model="fields[row[0]]" ></td>
            </tr>
        </tbody>
    </table>
    <a href="#custom-modal" data-animation="door" data-plugin="custommodal" data-overlayspeed="100" data-overlaycolor="#36404a">
        <button type="button" class="btn btn-block btn-xs btn-success waves-effect waves-light" @click="generate_sql">插入数据</button>
    </a>
    <!-- Modal -->
    <div id="custom-modal" class="modal-demo">
        <button type="button" id="toggle-modal-close" class="close" onclick="Custombox.close();">
            <span>&times;</span><span class="sr-only">Close</span>
        </button>

        <h4 class="custom-modal-title" v-show="insertDone">执行结果</h4>
        <div class="custom-modal-text" v-show="insertDone">
            <div class="form-group m-b-25">
                <div class="col-12">
                    <span>{{insertResult}}</span>
                </div>
            </div>
        </div>

        <h4 class="custom-modal-title" v-show="askExecute">执行以下语句</h4>
        <div class="custom-modal-text" v-show="askExecute">
            <form class="form-horizontal">

                <div class="form-group m-b-25">
                    <div class="col-12">
                        <label for="emailaddress3">SQL</label>
                        <textarea class="form-control" type="email" id="emailaddress3" required="" v-model="sql"></textarea>
                    </div>
                </div>

                <div class="form-group account-btn text-center m-t-10">
                    <div class="col-12">
                        <button class="btn w-lg btn-rounded btn-custom waves-effect waves-light" @click.stop.prevent="execute_insert" >执行</button>
                    </div>
                </div>

            </form>
        </div>
    </div>
</div>


<a href="#custom-modal" hidden id="toggle-modal" data-animation="door" data-plugin="custommodal" data-overlayspeed="100" data-overlaycolor="#36404a"></a>

<!-- jQuery  -->
<script src="/assets/js/jquery.min.js"></script>
<script src="/assets/js/popper.min.js"></script>
<script src="/assets/js/bootstrap.min.js"></script>
<script src="/assets/js/metisMenu.min.js"></script>
<script src="/assets/js/waves.js"></script>
<script src="/assets/js/jquery.slimscroll.js"></script>

<!-- App js -->
<script src="/assets/js/jquery.core.js"></script>
<script src="/assets/js/jquery.app.js"></script>
<!-- Modal-Effect -->
<script src="/plugins/custombox/js/custombox.min.js"></script>
<script src="/plugins/custombox/js/legacy.min.js"></script>

<script src="/js/insert_data.js"></script>

</body>
</html>